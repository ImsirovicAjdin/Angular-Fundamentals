<div>
  <h1>Edit Your Profile </h1>
  <hr>
  <div class="col-md-4">
    <form [formGroup]="profileForm" (ngSubmit)="saveProfile(profileForm.value)" autocomplete="off" novalidate>
      <div class="form-group" [ngClass]="{'error' : !validateFirstName() }">
        <label for="firstName">First Name:</label>
        <em *ngIf="!validateFirstName() && profileForm.controls.firstName.errors.required">Required</em>
        <em *ngIf="!validateFirstName() && profileForm.controls.firstName.errors.pattern">Must start with a letter</em>
        <input formControlName="firstName" id="firstName" type="text" class="form-control" placeholder="First Name..." />
      </div>
      <div class="form-group"  [ngClass]="{'error' : !validateLastName() }">
        <label for="lastName">Last Name:</label>
        <em *ngIf="!validateLastName()">Required</em>
        <input formControlName="lastName" id="lastName" type="text" class="form-control" placeholder="Last Name..." />
      </div>

      <button type="submit" class="btn btn-primary">Save</button>
      <button type="button" class="btn btn-default" (click)="cancel()">Cancel</button>
    </form>
  <div>
</div>

<!--
11 Understanding Angular's dependency injection

11.02 Using Third Party Global Services - The Problem

One of the things that our application has been missing for a while, is use of the Toastr Service. If you remember the Toastr Service gives us little notifications that'll pop up in the upper right hand corner, to let us know when certain actions are taken. There's a really good place where we could be using the Toastr Service right now, and that is inside of the profile. Once we login, and I can login here with anything, the server does not care what I put in for username at all, logs in to the John Papa account. You got this profile page, and if we make a change and we click save, it immediately navigates us back to the events place and we aren't 100% sure if our change has actually been made. In this case, we changed the first name so it's obvious because the welcome message has changed. But, if I were to change the last name to Smith and click save, I really wouldn't know, I don't get any feedback that a change has been made. Maybe a better user experience would be, when you click save instead of navigating away, to give us a little notification using the Toastr Service that the change was successfully made. So, let's go into our code, and what we want here in the profile component, is to bring in the Toastr Service as a constructor parameter, which will cause it to be injected by the dependency injector. We can make use of it down here in the save profile format, instead of navigating away we will use the Toastr Service to give us a success message. Let's open up our Toastr Service and take a look at it. That's up here inside of common. This is our Toastr Service right now, and there's a problem with this Toastr Service. This is important to understand, right now the Toastr Service is just a global, in our index file we've got a reference to the Toastr js file right here. The way that this js file works, it's just creates a global variable and puts it on the window object. That's how we access it, is through the global variable reference. The Toastr Service that we created is actually a service that's available for Angular 2 dependency injection. What we've done is we created a class that wraps the Toastr's API, it re-exposes the same methods. There's four of them, success, info, warning and error. Which is fine, because Toastr has a small API, but imagine a big third party component like say jQuery, which had an extremely large API. We wouldn't want to reimplement that, besides the fact that the Toastr object by itself is just fine, it doesn't need a wrapper class. We've had to create this wrapper class, so that we can use it with Angular 2, but it doesn't actually need a wrapper class. If we just add a handle to the global Toastr object, we'd be fine. Unfortunately, just referencing the global Toastr object inside of our code, would be problematic. There is a lot of problems that come from using global objects, one of which is that we lose the ability of ES6 modules to do things like tree shaking and other features that comes with ES6 modules, and it's just a bad practice. Using globals is not a good idea, we want a new way to access this Toastr Service that doesn't involve creating a whole class just to wrap it. Now to make that change, we're going to have to understand some very specific features of dependency injection.
-->