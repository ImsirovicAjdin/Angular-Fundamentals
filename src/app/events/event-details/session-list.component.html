
<div class="row" *ngFor="let session of visibleSessions">
    <div class="col-md-1">
        <div *ngIf="auth.isAuthenticated()">
            <upvote (vote)="toggleVote(session)" [count]="session.voters.length" [voted]="userHasVoted(session)"></upvote>
        </div>
    </div>
    <div class="col-md-10">
        <collapsible-well>
            <div well-title>
                {{session.name}}
                <i *ngIf="session.voters.length > 3" class="glyphicon glyphicon-fire" style="color:red"></i>
            </div>
            <div well-body>
                <h6>{{session.presenter}}</h6>
                <span>Duration: {{session.duration | duration }}</span><br>
                <span>Level: {{session.level}}</span>
                
                <p>{{session.abstract}}</p>
            </div>
        </collapsible-well>
    </div>
</div>
<!--
13.04 Hiding Functionality Before Authentication
Now let's quickly fix the issue that you cannot get to this page if you're not logged in because the voting functionality breaks if there isn't a currently logged in user. So we're going to go back to our code, and inside of the session list component, way up right here, in the HTML, we've got this upvote component. And this just shows up all the time. So instead of having it show up all the time, let's have it not show up if the user isn't authenticated. And we can do that easily by wrapping this in a div, with an ngIf, and remember we've imported the AuthService into our component. So right from here I can call auth dot isAuthenticated. Now just a quick side note here, your editor might complain that auth is a private variable. This may or may not give you problems, because we're now accessing the auth variable directly in the template. At the time of this recording, that doesn't cause any problems, but in the future that could change. To be safe, you can go into the component and change the auth variable from private to public where it's declared in the constructor. Back to what we're doing, we're calling isAuthenticated here. That is a method inside the AuthService, we'll go to the AuthService. We have this isAuthenticated method that returns true or false based on whether or not the current user is authenticated. So if we wrap our upvote component inside of that div, then if we go back and we refresh the page, we're no longer logged in, you can see that, that the page doesn't break, it just doesn't show the votingWidget.
-->